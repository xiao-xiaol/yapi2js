## 安装

1.下载tgz文件到本地
2.执行命令安装到全局: npm install <文件路径> -g

-------------------------------------------------------------------------
## 使用

### 基本使用
在项目目录下执行以下命令并且传入用户名和密码以及yapi的项目id：
npm yapi2js --email 用户名 --password 密码 --projectId xx

### 传参方式
1.命令行参数: 在执行命令时通过在命令后传入 --key value 格式的参数
2.配置文件:   在项目下创建yapi2js.config.json文件，json数据就是传的参数

### 设置配置
1.设置全局配置
    npm yapi2js-config-g --email xxx --password xxx
2.设置项目配置-按执行环境的项目名，如果项目名相同会使用同一个配置
    npm yapi2js-config-p --projectId xxx

### 更新部分模块内容
npm yapi2js --include "模块名1,模块名2"

### 排除部分模块
npm yapi2js --exclude "模块名3,模块名4"

-------------------------------------------------------------------------
## 配置项

### 配置项作用层级-每次执行转换时都会从上至下获取各层级的配置项然后向下覆盖
1. ⬇ 命令行参数
2. ⬇ 执行目录下的 yapi2js.config.json文件
3. ⬇ 之前保存的项目配置-根据项目名保存
4. ⬇ 设置的全局配置
5. ⬇ 默认配置   

### 配置项注释和默认值
json的value值就是默认值，必传项：email、password、projectId
```json
{
    "email": "", // 登录邮箱
    "password": "", // 登录地址
    "projectId": "", // 项目id
    "yapiUrl": "http://yapi.nat.jxlcit.com", // yapi地址
    "loginPath": "/api/user/login", // yapi登录路径
    "requestFuncName": "axios", // 请求方法名称
    "requestFuncPath": "@/utils/request", // 请求方法的导入路径
    "outputPath": "/src/api/modules/", // 生成文件存储地址
    "reqBodyCol": "名称,类型,必填,备注", // 请求负载注释列，可选项：名称,类型,必填,默认值,备注
    "reqQueryCol": "名称,必填,备注", // 请求参数注释列，可选项同上
    "resBodyCol": "名称,类型,备注", // 响应对象注释列，可选项同上
    "include": "", // 需要转换的部分模块名称，不传为所有，逗号分割多个模块名称 如果两个都传则先过滤 include 项再过滤 exclude 项
    "exclude": "", // 不需要转换的部分模板名称, 同上
}
```
-------------------------------------------------------------------------
## 待完善功能
<!-- 1.在每个文件头部增加该文件接口概览列表，接口方法名和中文名 * -->
<!-- 2.提示include功能没有匹配成功的模块 -->
<!-- 3.将返回值的空key-object的返回值过滤掉 -->
<!-- 4.更新功能：获取文件创建时间或最后修改时间之后更新的接口，并且是增量更新，只把文件内匹配到的接口函数更新，其他接口函数不修改 *  -->
<!-- pnpm yapi2js --update '创建'|'修改' -->
<!-- pnpm yapi2js --timeline 'create' | 'update' -->
<!--    模块对应文件不存在 -->
<!--        生成所有该模块下的接口 -->
<!--    模块对应文件存在 -->
<!--        文件(创建时间 | 最后修改时间)之后创建的接口更新到文件尾部 -->
<!--        文件(创建时间 | 最后修改时间)之后更新的接口替换原接口，如果接口不存在就更新到文件尾部 -->

<!-- 循环每个模块的时候检查是否存在对应文件 -->
<!--    不存在：执行原先方法创建整个文件 -->
<!--    存在：对比每个接口的是否需要更新 -->
<!--        不更新：跳过 -->
<!--        更新：判断文件内原先是否有该接口 -->
<!--            原先有接口：替换原接口、并且增加接口简介 -->
<!--            原先没有接口：拼接到文件尾部 -->

5.支持指定接口写到指定旧文件内
6.整理comment生成函数成class，分离代码到独立文件专门处理comment的
